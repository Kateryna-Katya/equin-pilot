{"version":3,"file":"main-DVREt_yO.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ПЛАВНЫЙ СКРОЛЛ LENIS\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 2. МОБИЛЬНОЕ МЕНЮ (Улучшенная логика)\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.getElementById('mobileMenu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    const toggleMenu = () => {\n        burger?.classList.toggle('burger--active');\n        mobileMenu?.classList.toggle('mobile-menu--active');\n        document.body.style.overflow = mobileMenu?.classList.contains('mobile-menu--active') ? 'hidden' : '';\n    };\n\n    const closeMenu = () => {\n        burger?.classList.remove('burger--active');\n        mobileMenu?.classList.remove('mobile-menu--active');\n        document.body.style.overflow = '';\n    };\n\n    burger?.addEventListener('click', toggleMenu);\n    \n    // Закрытие при клике на любой пункт меню\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', closeMenu);\n    });\n\n    // 3. COOKIE POPUP (С памятью)\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookies = document.getElementById('acceptCookies');\n\n    if (!localStorage.getItem('pilot_cookies_accepted')) {\n        setTimeout(() => {\n            cookiePopup?.classList.add('cookie-popup--active');\n        }, 3000); // Показать через 3 секунды\n    }\n\n    acceptCookies?.addEventListener('click', () => {\n        cookiePopup?.classList.remove('cookie-popup--active');\n        localStorage.setItem('pilot_cookies_accepted', 'true');\n    });\n\n    // 4. HEADER ПРИ СКРОЛЛЕ\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        header?.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    // 5. НАДЕЖНАЯ АНИМАЦИЯ ПОЯВЛЕНИЯ (Intersection Observer)\n    const revealElements = document.querySelectorAll('[data-scroll-reveal]');\n    \n    const revealOptions = {\n        threshold: 0.15,\n        rootMargin: \"0px 0px -50px 0px\"\n    };\n\n    const revealObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('is-visible');\n                // Анимируем вложенные элементы (карточки), если они есть\n                const children = entry.target.querySelectorAll('.feature-card, .blog-card, .innovations-card, .stat-item');\n                children.forEach((child, index) => {\n                    setTimeout(() => {\n                        child.style.opacity = \"1\";\n                        child.style.transform = \"translateY(0)\";\n                    }, index * 150);\n                });\n                observer.unobserve(entry.target);\n            }\n        });\n    }, revealOptions);\n\n    revealElements.forEach(el => revealObserver.observe(el));\n\n    // 6. HERO АНИМАЦИЯ (Запуск сразу)\n    gsap.from('.hero__title', { y: 40, opacity: 0, duration: 1.2, delay: 0.5 });\n    gsap.from('.hero__subtitle', { y: 30, opacity: 0, duration: 1.2, delay: 0.8 });\n    gsap.from('.hero__actions', { y: 20, opacity: 0, duration: 1.2, delay: 1.1 });\n\n    // 7. ЛОГИКА ФОРМЫ (Математическая капча)\n    const contactForm = document.getElementById('contactForm');\n    const captchaQuestion = document.getElementById('captchaQuestion');\n    let n1 = Math.floor(Math.random() * 10), n2 = Math.floor(Math.random() * 5), res = n1 + n2;\n    if(captchaQuestion) captchaQuestion.textContent = `${n1} + ${n2}`;\n\n    contactForm?.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const ans = document.getElementById('captchaInput')?.value;\n        if (parseInt(ans) !== res) return alert('Неверно! Попробуйте снова.');\n        \n        document.getElementById('formMessage')?.classList.add('form__message--active');\n    });\n});"],"names":["lenis","raf","time","burger","mobileMenu","mobileLinks","toggleMenu","closeMenu","link","cookiePopup","acceptCookies","header","revealElements","revealOptions","revealObserver","entries","observer","entry","child","index","el","contactForm","captchaQuestion","n1","n2","res","e","ans","_a","_b"],"mappings":"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"}